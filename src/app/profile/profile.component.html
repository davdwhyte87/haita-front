<app-nav></app-nav>
<section class="container">
  <div class="row">
  <img *ngIf="page_loading" src="../assets/img/loading.gif" class="loading offset-md-5"/>
      <div *ngIf="user" class="col-md-5 offset-md-3">
        <div *ngIf="error" class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Error!</strong> {{error_msg}}
            <ul>
              <li *ngFor="let serrs of sign_up_errs">
                {{serrs}}
              </li>
            </ul>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div *ngIf="success" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success!</strong> {{success_msg}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close" >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="card lg-div">
              <div class="card-body">
                  <div class="container offset-md-4">
                      <img *ngIf="user.image" [src]="user_img_path+user.image" class="p-img rounded-circle" />
                      <img *ngIf="!user.image" src="../assets/img/user2.png" class="p-img rounded-circle" />
                      <div style="padding: 10px; margin-left: 10px;">
                          <input hidden (change)="onUploadChange($event)" accept=".png, .jpg, .jpeg" type="file" name="img" class="hfimg" />
                          <button class="btn btn-primary"><img class="img-open" src="../assets/img/camera.png" style="height: 40px; width: 40px;"></button>
                      </div> 
                  </div>
                  <form>
                      <div class="form-group">
                          <input  [(ngModel)]="user.uname" type="text" name="name" placeholder="User Name" class="form-control"/>
                      </div>
                      <div class="form-group">
                          <input  [(ngModel)]="user.phone"  type="phone"  name="phone" placeholder="Phone" class="form-control"/>
                      </div>
                      <div class="form-group">
                          <input [(ngModel)]="user.email"  type="email" name="email" placeholder="Email" class="form-control" disabled/>
                      </div>
                      <div class="form-group">
                        <textarea style="height:100px;" class="form-control"  [(ngModel)]="user.bio" name="bio">

                        </textarea>
                      </div>
                      <div class="form-group">
                          <button (click)="update()" class="btn btn-primary">Update <img *ngIf="loading" src="../assets/img/loading.gif" class="loading"/></button>
                      </div>
                  </form>
              </div>
          </div>
      </div>
  </div>
</section>
<br>
<section class="container">
    <div>
        <h4>My Posts</h4>
    </div>
    <hr>
    <div class="row">
        <div *ngFor="let post of posts" class="col-md-4">
            <a routerLink="/view_post/{{post.id}}"><img [src]="p_image_path+post.image" class="post-img"/></a>
        </div>
    </div>
</section>
